<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyberbet.AI - AI-Powered Sports Predictions</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f0f2f5;
        }

        .navbar {
            background-color: #000;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            color: white;
            font-size: 1.5rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            margin-left: 2rem;
            font-weight: 500;
        }

        .main-container {
            margin-top: 80px;
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 2rem;
        }

        .prediction-card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .prediction-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .ai-confidence {
            background: linear-gradient(45deg, #00f7ff, #2196f3);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
        }

        .teams {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 1rem 0;
            padding: 0 2rem;
        }

        .team {
            text-align: center;
            font-size: 1.2rem;
            font-weight: 500;
        }

        .team p {
            margin: 0;
            color: #333;
        }

        .vs {
            font-weight: bold;
            color: #666;
            font-size: 1.2rem;
        }

        .prediction-stats {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 5px;
            margin-top: 1rem;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .sidebar {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            height: fit-content;
        }

        .ai-analysis {
            background: linear-gradient(to right, #000, #333);
            color: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 1rem;
        }

        .ai-analysis h3 {
            margin-bottom: 1rem;
            font-family: 'Orbitron', sans-serif;
        }

        .trending-matches {
            margin-top: 2rem;
        }

        .match-item {
            padding: 1rem;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }

        .match-item:hover {
            background: #f5f5f5;
        }

        .ai-icon {
            color: #00f7ff;
            margin-right: 0.5rem;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .live-indicator {
            color: #ff4444;
            animation: pulse 2s infinite;
        }

        /* Add new styles */
        .prediction-input {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .prediction-input h3 {
            margin-bottom: 1.5rem;
            color: #333;
            font-family: 'Orbitron', sans-serif;
        }

        .input-form {
            display: grid;
            gap: 1.5rem;
        }

        .team-inputs {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 1rem;
            align-items: center;
        }

        .input-group {
            position: relative;
        }

        .input-group input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 1rem;
            background: white;
            transition: border-color 0.3s ease;
        }

        .input-group input:focus {
            border-color: #007bff;
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }

        .vs-text {
            font-weight: bold;
            color: #666;
            text-align: center;
        }

        .sport-select {
            margin-bottom: 1rem;
        }

        .get-prediction-btn {
            background: linear-gradient(45deg, #00f7ff, #2196f3);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 5px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .get-prediction-btn:hover {
            transform: translateY(-2px);
        }

        .loading-indicator {
            display: none;
            text-align: center;
            margin-top: 1rem;
            color: #007bff;
        }

        .loading-indicator.active {
            display: block;
        }

        .suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            margin-top: 5px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }

        .suggestions.active {
            display: block;
        }

        .suggestion-item {
            padding: 0.8rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .suggestion-item:hover {
            background-color: #f8f9fa;
        }

        /* Add an example label style */
        .example-label {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
            position: absolute;
            top: -12px;
            right: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .example-card {
            position: relative;
            border: 2px dashed #007bff;
            background: linear-gradient(to right, rgba(255,255,255,0.95), rgba(255,255,255,0.95));
        }

        .example-note {
            background: #f8f9fa;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 5px;
            border-left: 4px solid #007bff;
            font-size: 0.9rem;
            color: #666;
        }

        /* Add footer styles */
        .footer {
            text-align: center;
            padding: 2rem;
            margin-top: 2rem;
            background: linear-gradient(to right, #000, #333);
            color: white;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 1px;
        }

        .footer .creator {
            font-size: 1.1rem;
            opacity: 0.9;
            transition: opacity 0.3s ease;
        }

        .footer .creator:hover {
            opacity: 1;
        }

        .footer i {
            color: #00f7ff;
            margin-right: 0.5rem;
        }

        .plan-card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .plan-name {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .plan-price {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .plan-price span {
            font-size: 0.9rem;
            font-weight: normal;
        }

        .plan-features {
            list-style: none;
            padding-left: 0;
            margin-bottom: 1rem;
        }

        .plan-features li {
            margin-bottom: 0.5rem;
        }

        .plan-features li i {
            margin-right: 0.5rem;
        }

        .subscribe-btn {
            background: linear-gradient(45deg, #00f7ff, #2196f3);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 5px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .subscribe-btn:hover {
            transform: translateY(-2px);
        }

        .popular-plan {
            background: linear-gradient(to right, #00f7ff, #2196f3);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .popular-badge {
            background: white;
            color: #00f7ff;
            padding: 0.2rem 0.5rem;
            border-radius: 5px;
            margin-bottom: 0.5rem;
        }

        /* Add styles for prediction counter and limit modal */
        .prediction-counter {
            background: linear-gradient(45deg, #00f7ff, #2196f3);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            position: absolute;
            top: 10px;
            right: 10px;
        }

        .limit-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .limit-modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            max-width: 500px;
            text-align: center;
            position: relative;
        }

        .modal-title {
            font-family: 'Orbitron', sans-serif;
            color: #333;
            margin-bottom: 1rem;
        }

        .modal-text {
            color: #666;
            margin-bottom: 2rem;
        }

        .modal-buttons {
            display: grid;
            gap: 1rem;
        }

        /* Add payment modal styles */
        .payment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .payment-modal.active {
            display: flex;
        }

        .payment-content {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            position: relative;
        }

        .payment-title {
            font-family: 'Orbitron', sans-serif;
            color: #333;
            margin-bottom: 1.5rem;
        }

        .mpesa-details {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .mpesa-details p {
            margin: 0.5rem 0;
            color: #666;
        }

        .mpesa-number {
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
            background: #e9ecef;
            padding: 0.5rem;
            border-radius: 5px;
            margin: 0.5rem 0;
        }

        .transaction-input {
            width: 100%;
            padding: 1rem;
            margin: 1rem 0;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .transaction-input:focus {
            border-color: #00f7ff;
            outline: none;
        }

        .verify-btn {
            background: linear-gradient(45deg, #00f7ff, #2196f3);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease;
            width: 100%;
            font-size: 1.1rem;
            margin-top: 1rem;
        }

        .verify-btn:hover {
            transform: scale(1.05);
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        /* Add profile styles */
        .profile-section {
            position: fixed;
            top: 80px;
            right: -300px;
            width: 300px;
            height: calc(100vh - 80px);
            background: white;
            box-shadow: -2px 0 5px rgba(0,0,0,0.1);
            transition: right 0.3s ease;
            z-index: 900;
            padding: 2rem;
        }

        .profile-section.active {
            right: 0;
        }

        .profile-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: #e0e0e0;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #666;
        }

        .profile-name {
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
        }

        .profile-email {
            color: #666;
            font-size: 0.9rem;
        }

        .profile-stats {
            margin: 2rem 0;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .stat-item {
            margin: 0.5rem 0;
            display: flex;
            justify-content: space-between;
        }

        .logout-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 0.8rem;
            border-radius: 5px;
            width: 100%;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .logout-btn:hover {
            background: #c82333;
        }

        .free-predictions-badge {
            background: linear-gradient(45deg, #00f7ff, #2196f3);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 15px;
            font-size: 0.9rem;
            margin-top: 1rem;
            text-align: center;
        }

        /* Add prediction result modal styles */
        .prediction-result-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .prediction-result-modal.active {
            display: flex;
        }

        .result-content {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            max-width: 600px;
            width: 90%;
            position: relative;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .result-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f0f0f0;
        }

        .teams-display {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .team-result {
            text-align: center;
            flex: 1;
        }

        .team-name {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .predicted-score {
            font-size: 2rem;
            font-weight: bold;
            color: #007bff;
        }

        .vs-label {
            font-size: 1.2rem;
            color: #666;
            margin: 0 1rem;
        }

        .prediction-details {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #e0e0e0;
        }

        .detail-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .confidence-bar {
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-top: 0.5rem;
            overflow: hidden;
        }

        .confidence-level {
            height: 100%;
            background: linear-gradient(45deg, #00f7ff, #2196f3);
            border-radius: 4px;
            transition: width 1s ease;
        }

        .close-result {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="logo">CYBERBET.AI</div>
        <div class="nav-links">
            <a href="#"><i class="fas fa-home"></i> Home</a>
            <a href="#"><i class="fas fa-robot"></i> AI Predictions</a>
            <a href="#"><i class="fas fa-chart-line"></i> Statistics</a>
            <a href="#" onclick="toggleProfile()"><i class="fas fa-user"></i> Profile</a>
        </div>
    </nav>

    <div class="main-container">
        <!-- Left Sidebar -->
        <div class="sidebar">
            <h3>Popular Sports</h3>
            <div class="match-item">
                <i class="fas fa-futbol"></i> Football
            </div>
            <div class="match-item">
                <i class="fas fa-basketball-ball"></i> Basketball
            </div>
            <div class="match-item">
                <i class="fas fa-baseball-ball"></i> Baseball
            </div>
            <div class="match-item">
                <i class="fas fa-hockey-puck"></i> Hockey
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="ai-analysis">
                <h3><i class="fas fa-robot ai-icon"></i>AI Match Analysis</h3>
                <p>Our AI analyzes thousands of data points including player statistics, team performance, weather conditions, and historical data to provide accurate predictions.</p>
            </div>

            <!-- Add this after the ai-analysis div and before the prediction-card -->
            <div class="prediction-input">
                <h3><i class="fas fa-robot ai-icon"></i>Get AI Prediction</h3>
                <form class="input-form" id="predictionForm">
                    <div class="sport-select">
                        <input type="text" 
                               placeholder="Enter Sport (e.g., Football, Basketball)" 
                               required 
                               id="sportInput">
                        <div class="suggestions" id="sportSuggestions"></div>
                    </div>
                    
                    <div class="team-inputs">
                        <div class="input-group">
                            <input type="text" 
                                   placeholder="Enter Team 1" 
                                   required 
                                   id="team1Input">
                            <div class="suggestions" id="team1Suggestions"></div>
                        </div>
                        <div class="vs-text">VS</div>
                        <div class="input-group">
                            <input type="text" 
                                   placeholder="Enter Team 2" 
                                   required 
                                   id="team2Input">
                            <div class="suggestions" id="team2Suggestions"></div>
                        </div>
                    </div>
                    
                    <button type="submit" class="get-prediction-btn">
                        <i class="fas fa-magic"></i> Get AI Prediction
                    </button>
                </form>
                <div class="loading-indicator" id="loadingIndicator">
                    <i class="fas fa-spinner fa-spin"></i> Analyzing match data...
                </div>
            </div>

            <!-- Modified prediction card with example indicators -->
            <div class="prediction-card example-card">
                <div class="example-label">Example Prediction</div>
                <div class="prediction-header">
                    <span class="live-indicator"><i class="fas fa-circle"></i> LIVE</span>
                    <div class="ai-confidence">AI Confidence: 87%</div>
                </div>
                <div class="teams">
                    <div class="team">
                        <p>Manchester City</p>
                    </div>
                    <div class="vs">VS</div>
                    <div class="team">
                        <p>Liverpool</p>
                    </div>
                </div>
                <div class="prediction-stats">
                    <div class="stat-row">
                        <span>Predicted Score:</span>
                        <strong>2 - 1</strong>
                    </div>
                    <div class="stat-row">
                        <span>Win Probability:</span>
                        <strong>65%</strong>
                    </div>
                    <div class="stat-row">
                        <span>Goals Over/Under:</span>
                        <strong>Over 2.5</strong>
                    </div>
                </div>
                <div class="example-note">
                    <i class="fas fa-info-circle"></i> This is an example prediction card showing how our AI presents match analysis. Try getting a real prediction by entering teams in the form above!
                </div>
            </div>

            <!-- Add more prediction cards here -->

            <div class="plan-card">
                <h3 class="plan-name">Basic</h3>
                <div class="plan-price">TZS 5,000<span>/month</span></div>
                <ul class="plan-features">
                    <li><i class="fas fa-check"></i>5 Predictions per day</li>
                    <li><i class="fas fa-check"></i>Basic statistics</li>
                    <li><i class="fas fa-check"></i>Email notifications</li>
                    <li><i class="fas fa-check"></i>24/7 Support</li>
                </ul>
                <button class="subscribe-btn basic-btn">Start Basic</button>
            </div>

            <div class="plan-card popular-plan">
                <div class="popular-badge">Most Popular</div>
                <h3 class="plan-name">Pro</h3>
                <div class="plan-price">TZS 10,000<span>/month</span></div>
                <ul class="plan-features">
                    <li><i class="fas fa-check"></i>20 Predictions per day</li>
                    <li><i class="fas fa-check"></i>Advanced statistics</li>
                    <li><i class="fas fa-check"></i>Real-time notifications</li>
                    <li><i class="fas fa-check"></i>Priority support</li>
                    <li><i class="fas fa-check"></i>Historical data access</li>
                </ul>
                <button class="subscribe-btn">Go Pro</button>
            </div>

            <div class="plan-card">
                <h3 class="plan-name">Premium</h3>
                <div class="plan-price">TZS 50,000<span>/month</span></div>
                <ul class="plan-features">
                    <li><i class="fas fa-check"></i>Unlimited predictions</li>
                    <li><i class="fas fa-check"></i>Premium statistics</li>
                    <li><i class="fas fa-check"></i>VIP notifications</li>
                    <li><i class="fas fa-check"></i>24/7 VIP Support</li>
                    <li><i class="fas fa-check"></i>Full historical data</li>
                    <li><i class="fas fa-check"></i>Custom analysis</li>
                </ul>
                <button class="subscribe-btn premium-btn">Go Premium</button>
            </div>
        </div>

        <!-- Right Sidebar -->
        <div class="sidebar">
            <h3>Trending Matches</h3>
            <div class="trending-matches">
                <div class="match-item">
                    <i class="fas fa-star ai-icon"></i>
                    Real Madrid vs Barcelona
                </div>
                <div class="match-item">
                    <i class="fas fa-star ai-icon"></i>
                    Lakers vs Warriors
                </div>
                <div class="match-item">
                    <i class="fas fa-star ai-icon"></i>
                    Yankees vs Red Sox
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="creator">
            <i class="fas fa-code"></i>Website created by: Emmanuel Mnanka Samo
        </div>
    </div>

    <!-- Add modal HTML before closing body tag -->
    <div class="limit-modal" id="limitModal">
        <div class="modal-content">
            <h2 class="modal-title">Prediction Limit Reached!</h2>
            <p class="modal-text">You've used all 5 free predictions. Subscribe to one of our plans to get unlimited predictions and more features!</p>
            <div class="modal-buttons">
                <button class="subscribe-btn" onclick="window.location.href='#subscription-section'">View Plans</button>
            </div>
        </div>
    </div>

    <!-- Add payment modal HTML before closing body tag -->
    <div class="payment-modal" id="paymentModal">
        <div class="payment-content">
            <button class="close-modal" onclick="closePaymentModal()">&times;</button>
            <h2 class="payment-title">Complete Your Subscription</h2>
            <div class="mpesa-details">
                <p><strong>Payment Instructions:</strong></p>
                <p>1. Open your M-pesa menu</p>
                <p>2. Send payment to:</p>
                <div class="mpesa-number">+255 740 336 972</div>
                <p><strong>Name:</strong> Emmanuel Mnanka Samo</p>
                <p>3. Copy the transaction ID from your M-pesa message</p>
                <p>4. Enter the transaction ID below</p>
            </div>
            <input type="text" 
                   class="transaction-input" 
                   id="transactionId" 
                   placeholder="Enter M-pesa Transaction ID"
                   required>
            <button class="verify-btn" onclick="verifyTransaction()">Verify Payment</button>
        </div>
    </div>

    <!-- Add prediction result modal HTML before closing body tag -->
    <div class="prediction-result-modal" id="predictionResultModal">
        <div class="result-content">
            <button class="close-result" onclick="closePredictionResult()">&times;</button>
            <div class="result-header">
                <h2>AI Match Prediction</h2>
            </div>
            <div class="teams-display">
                <div class="team-result">
                    <div class="team-name" id="team1Name"></div>
                    <div class="predicted-score" id="score1"></div>
                </div>
                <div class="vs-label">VS</div>
                <div class="team-result">
                    <div class="team-name" id="team2Name"></div>
                    <div class="predicted-score" id="score2"></div>
                </div>
            </div>
            <div class="prediction-details">
                <div class="detail-item">
                    <span>Win Probability</span>
                    <strong id="winProb"></strong>
                </div>
                <div class="detail-item">
                    <span>AI Confidence</span>
                    <div>
                        <strong id="aiConfidence"></strong>
                        <div class="confidence-bar">
                            <div class="confidence-level" id="confidenceBar"></div>
                        </div>
                    </div>
                </div>
                <div class="detail-item">
                    <span>Predicted Result</span>
                    <strong id="predictedResult"></strong>
                </div>
                <div class="detail-item">
                    <span>Goals Over/Under</span>
                    <strong id="goalsOverUnder"></strong>
                </div>
            </div>
        </div>
    </div>

    <div class="profile-section" id="profileSection">
        <div class="profile-header">
            <div class="profile-avatar">
                <i class="fas fa-user"></i>
            </div>
            <div class="profile-name" id="profileName"></div>
            <div class="profile-email" id="profileEmail"></div>
        </div>
        <div class="profile-stats">
            <div class="stat-item">
                <span>Predictions Made:</span>
                <span id="predictionCount">0</span>
            </div>
            <div class="stat-item">
                <span>Free Predictions Left:</span>
                <span id="freePredictions">5</span>
            </div>
            <div class="stat-item">
                <span>Subscription Status:</span>
                <span id="subscriptionStatus">Free</span>
            </div>
            <div class="free-predictions-badge" id="freePredictionsBadge">
                You have <span id="freePredictionsBadgeCount">5</span> free predictions remaining!
            </div>
        </div>
        <button class="logout-btn" onclick="handleLogout()">Logout</button>
    </div>

    <script>
        // Sample data for suggestions
        const sports = ['Football', 'Basketball', 'Baseball', 'Hockey', 'Tennis'];
        const teams = {
            'Football': ['Manchester City', 'Liverpool', 'Chelsea', 'Arsenal', 'Real Madrid', 'Barcelona'],
            'Basketball': ['Lakers', 'Warriors', 'Celtics', 'Bulls', 'Heat'],
            'Baseball': ['Yankees', 'Red Sox', 'Dodgers', 'Cubs'],
            'Hockey': ['Maple Leafs', 'Canadiens', 'Rangers', 'Bruins']
        };

        function showSuggestions(input, suggestionsList, items) {
            const value = input.value.toLowerCase();
            const filteredItems = items.filter(item => 
                item.toLowerCase().includes(value)
            );

            suggestionsList.innerHTML = '';
            if (value && filteredItems.length) {
                suggestionsList.classList.add('active');
                filteredItems.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'suggestion-item';
                    div.textContent = item;
                    div.onclick = () => {
                        input.value = item;
                        suggestionsList.classList.remove('active');
                        if (input.id === 'sportInput') {
                            // Clear team inputs when sport changes
                            document.getElementById('team1Input').value = '';
                            document.getElementById('team2Input').value = '';
                        }
                    };
                    suggestionsList.appendChild(div);
                });
            } else {
                suggestionsList.classList.remove('active');
            }
        }

        // Sport input handling
        const sportInput = document.getElementById('sportInput');
        const sportSuggestions = document.getElementById('sportSuggestions');
        
        sportInput.addEventListener('input', () => {
            showSuggestions(sportInput, sportSuggestions, sports);
        });

        // Team inputs handling
        const team1Input = document.getElementById('team1Input');
        const team2Input = document.getElementById('team2Input');
        const team1Suggestions = document.getElementById('team1Suggestions');
        const team2Suggestions = document.getElementById('team2Suggestions');

        function getTeamSuggestions() {
            const sport = sportInput.value;
            return teams[sport] || [];
        }

        team1Input.addEventListener('input', () => {
            showSuggestions(team1Input, team1Suggestions, getTeamSuggestions());
        });

        team2Input.addEventListener('input', () => {
            showSuggestions(team2Input, team2Suggestions, getTeamSuggestions());
        });

        // Add prediction generation function
        function generatePrediction() {
            const team1 = document.getElementById('team1Input').value;
            const team2 = document.getElementById('team2Input').value;
            const sport = document.getElementById('sportInput').value;

            // Generate random scores based on sport
            let score1, score2;
            switch(sport.toLowerCase()) {
                case 'football':
                    score1 = Math.floor(Math.random() * 5);
                    score2 = Math.floor(Math.random() * 5);
                    break;
                case 'basketball':
                    score1 = Math.floor(Math.random() * (120 - 85) + 85);
                    score2 = Math.floor(Math.random() * (120 - 85) + 85);
                    break;
                default:
                    score1 = Math.floor(Math.random() * 5);
                    score2 = Math.floor(Math.random() * 5);
            }

            // Calculate other prediction details
            const confidence = Math.floor(Math.random() * (95 - 70) + 70);
            const winProb = Math.floor(Math.random() * (90 - 40) + 40);
            const totalGoals = score1 + score2;

            // Update modal content
            document.getElementById('team1Name').textContent = team1;
            document.getElementById('team2Name').textContent = team2;
            document.getElementById('score1').textContent = score1;
            document.getElementById('score2').textContent = score2;
            document.getElementById('winProb').textContent = `${winProb}%`;
            document.getElementById('aiConfidence').textContent = `${confidence}%`;
            document.getElementById('confidenceBar').style.width = `${confidence}%`;
            document.getElementById('predictedResult').textContent = 
                score1 > score2 ? `${team1} Win` : 
                score1 < score2 ? `${team2} Win` : 'Draw';
            document.getElementById('goalsOverUnder').textContent = 
                `Over ${totalGoals - 0.5} (${totalGoals} predicted)`;

            // Show the modal
            document.getElementById('predictionResultModal').classList.add('active');
        }

        function closePredictionResult() {
            document.getElementById('predictionResultModal').classList.remove('active');
        }

        // Add to existing script
        function handlePredictionRequest(e) {
            e.preventDefault();
            
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            let users = JSON.parse(localStorage.getItem('users') || '[]');
            
            // Find user in users array
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            
            // Check subscription status from main users array
            if (users[userIndex].subscriptionStatus !== 'premium') {
                // Check if user has any free predictions left
                if (users[userIndex].freePredictionsRemaining <= 0) {
                    document.getElementById('paymentModal').classList.add('active');
                    return;
                }
                
                // Use a free prediction
                users[userIndex].freePredictionsRemaining--;
                users[userIndex].predictionCount++;
                
                // Update both current user and users array
                currentUser.freePredictionsRemaining = users[userIndex].freePredictionsRemaining;
                currentUser.predictionCount = users[userIndex].predictionCount;
                
                // Save updates to both storage locations
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                localStorage.setItem('users', JSON.stringify(users));
                
                updateProfileStats();
                
                if (users[userIndex].freePredictionsRemaining === 0) {
                    setTimeout(() => {
                        document.getElementById('paymentModal').classList.add('active');
                    }, 1500);
                    return;
                }
            }
            
            // Generate prediction
            generatePrediction();
        }

        function verifyTransaction() {
            const transactionId = document.getElementById('transactionId').value;
            
            if (!transactionId) {
                alert('Please enter a transaction ID');
                return;
            }

            // Show loading state
            const verifyBtn = document.querySelector('.verify-btn');
            verifyBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Verifying...';
            verifyBtn.disabled = true;

            setTimeout(() => {
                const currentUser = JSON.parse(localStorage.getItem('currentUser'));
                let users = JSON.parse(localStorage.getItem('users') || '[]');
                
                // Find and update user in users array
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    // Update subscription status in both places
                    users[userIndex].subscriptionStatus = 'premium';
                    users[userIndex].transactionId = transactionId;
                    currentUser.subscriptionStatus = 'premium';
                    currentUser.transactionId = transactionId;
                    
                    // Remove free predictions counter
                    delete users[userIndex].freePredictionsRemaining;
                    delete currentUser.freePredictionsRemaining;
                    
                    // Save updates
                    localStorage.setItem('users', JSON.stringify(users));
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    
                    // Close modal and show success message
                    closePaymentModal();
                    alert('Payment verified successfully! You now have unlimited predictions.');
                    
                    // Update UI
                    updateProfileStats();
                }
                
                // Reset button state
                verifyBtn.innerHTML = 'Verify Payment';
                verifyBtn.disabled = false;
            }, 2000);
        }

        // Update profile stats function
        function updateProfileStats() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            document.getElementById('predictionCount').textContent = currentUser.predictionCount;
            
            // Update subscription status
            const subscriptionStatus = document.getElementById('subscriptionStatus');
            if (currentUser.subscriptionStatus === 'premium') {
                subscriptionStatus.textContent = 'Premium';
                subscriptionStatus.style.color = '#FFD700';
                
                // Hide free predictions elements
                document.getElementById('freePredictionsBadge').style.display = 'none';
                document.querySelector('.stat-item:nth-child(2)').style.display = 'none'; // Free predictions counter
            } else {
                subscriptionStatus.textContent = 'Free';
                document.getElementById('freePredictions').textContent = currentUser.freePredictionsRemaining;
                document.getElementById('freePredictionsBadgeCount').textContent = currentUser.freePredictionsRemaining;
                
                // Show free predictions elements
                document.getElementById('freePredictionsBadge').style.display = 'block';
                document.querySelector('.stat-item:nth-child(2)').style.display = 'flex';
            }
        }

        // Update form submission handler
        document.getElementById('predictionForm').removeEventListener('submit', handlePredictionRequest);
        document.getElementById('predictionForm').addEventListener('submit', handlePredictionRequest);

        // Update window load event to check subscription status
        window.addEventListener('load', () => {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser) {
                window.location.href = 'das.html';
                return;
            }

            // Get latest user data from users array
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            
            if (userIndex !== -1) {
                // Sync with latest data from users array
                const updatedUser = users[userIndex];
                localStorage.setItem('currentUser', JSON.stringify(updatedUser));
                
                // Initialize UI with synced data
                document.getElementById('profileName').textContent = updatedUser.fullName;
                document.getElementById('profileEmail').textContent = updatedUser.email;
                document.getElementById('predictionCount').textContent = updatedUser.predictionCount;
                
                updateProfileStats();
            }
        });

        // Close modal when clicking outside
        document.getElementById('limitModal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.remove('active');
            }
        });

        // Add to existing script
        function toggleProfile() {
            document.getElementById('profileSection').classList.toggle('active');
        }

        function handleLogout() {
            localStorage.removeItem('currentUser');
            window.location.href = 'das.html';
        }
    </script>
</body>
</html>
